## 参考
#
# * http://pgsqldeepdive.blogspot.jp/2012/12/postgresql.html
# * http://pgtune.leopard.in.ua/
#

data_directory = '/var/lib/postgresql/9.3/main'		# use data in another directory
hba_file = '/etc/postgresql/9.3/main/pg_hba.conf'	# host-based authentication file
ident_file = '/etc/postgresql/9.3/main/pg_ident.conf'	# ident configuration file
external_pid_file = '/var/run/postgresql/9.3-main.pid'			# write an extra PID file
unix_socket_directories = '/var/run/postgresql'	# comma-separated list of directories

port = 5432				# (change requires restart)

ssl = true				# (change requires restart)
ssl_cert_file = '/etc/ssl/certs/ssl-cert-snakeoil.pem'		# (change requires restart)
ssl_key_file = '/etc/ssl/private/ssl-cert-snakeoil.key'		# (change requires restart)


# PostgreSQLサーバが出力するサーバログの各行の先頭部分に何を付加して出力するか
# t: タイムスタンプ, p: プロセスID
log_line_prefix = '[%t] %p: '

log_timezone = 'UTC'

datestyle = 'iso, mdy'
timezone = 'UTC'

lc_messages = 'C' # メッセージの言語 (C: ロケールに依存した処理をしない)
lc_monetary = 'C' # 通貨の書式 (C: ロケールに依存した処理をしない)
lc_numeric = 'C' # 数字の書式 (C: ロケールに依存した処理をしない)
lc_time = 'C' # 日付と時刻の書式 (C: ロケールに依存した処理をしない)

# default configuration for text search
default_text_search_config = 'pg_catalog.english'

max_connections = 200

#「共有バッファ」と呼ばれる、テーブルやインデックスのデータを8kbのブロック単位で
# バッファリングするメモリ領域のサイズ。物理メモリの1/4～1/2程度のサイズが適当。
shared_buffers = 256MB

effective_cache_size = 768MB
work_mem = 1310kB
maintenance_work_mem = 64MB

# いくつのトランザクションログファイルを消費したらチェックポイントを発生させるか
# 64～128程度の値が適当
checkpoint_segments = 128

# 60min程度の時間が適当
checkpoint_timeout = 60min

checkpoint_completion_target = 0.7

# 「トランザクションログ (WAL)」と呼ばれる、ファイルをディスクに書き出す時に
# バッファリングされるメモリ領域。デフォルトでは先に紹介した `shared_buffers` の
# 「1/32」のサイズに設定される。
wal_buffers = 7864kB

default_statistics_target = 100
